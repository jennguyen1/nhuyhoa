---
layout: post
title: "R Cool Functions List"
date: "July 24, 2015"
categories: ['r programming']
---

* TOC
{:toc}

```{r, echo = FALSE}
library(jn.general)
```

**General R**

* [R reference][r_ref]{:target = "_blank"}
* [dplyr cheatsheet][dplyr_ref]{:target = "_blank"}
* [data.table cheatsheet][data.table_ref]{:target = "_blank"}


**Graphics in R**

* [ggplot2 cheatsheet][ggplot2_ref]{:target = "_blank"}
* [GGally::ggpairs()][grid.arrange]{:target = "_blank"}
* Plotmath
```{r, eval = FALSE}
help(plotmath)
```

* RColorBrewer

```{r}
library(RColorBrewer)
display.brewer.all()
```


**Other R Apps**

* [shiny cheatsheet][shiny_ref]{:target = "_blank"}
* [rmarkdown][rmarkdown_ref]{:target = "_blank"}
* [rmarkdown2][rmarkdown_ref2]{:target = "_blank"}

**Other Python Apps**

* [pandas cheatsheet][pandas_ref]{:target = "_blank"}

[r_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMMWN5dmhaT05IRkk/view?usp=sharing
[dplyr_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMblBxTjEwRWZXYjQ/view?usp=sharing
[data.table_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMYUtxVHVUVFVDbGc/view?usp=sharing
[ggplot2_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMd1RDSlFYQ0lSZFE/view?usp=sharing
[grid.arrange]: http://www.sthda.com/english/wiki/ggplot2-easy-way-to-mix-multiple-graphs-on-the-same-page-r-software-and-data-visualization
[shiny_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMU0JWZmtWSXF0dHc/view?usp=sharing
[rmarkdown_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMV2NBbWlSNHJvM2c/view?usp=sharing
[rmarkdown_ref2]: https://drive.google.com/file/d/0B5VF_idvHAmMTHU4MFRDV1Z3NUE/view?usp=sharing
[pandas_ref]: https://drive.google.com/file/d/0B5VF_idvHAmMV0dTNFpyQU9Udnc/view?usp=sharing

# Not Yet:

locator function:

* ggmap::gglocator()
* heatmaps with dendrograms 2x2

**list of functions**

* partial(f, ..): changes the defaults of functions
* sf <- pryr::partial(sum, 1:5, na.rm = TRUE); sf()
     
**nonstandard evaluation:**
```{r}
("1 == 2") %>% parse(text = .) %>% eval
```

* as.character(substitute(list(…))[-1]) # removes the list argument
* substitute(): generates an expression from input
* deparse(): takes an expression & generate a string
* quote(): like substitute, but always return input as is
* eval(): takes expression and evaluates it, 2nd arg is the environment

* eval(quote(x), list(x = 30))
* eval(expr, environment, enclose)
  * to obtain from list or df, environment = name of df
  * to make sure it doesn’t scope outside, do enclose = parent.frame()

* expression: object that represents an action
* expression(): returns a list of expressions
* get(): works by eval(deparse(text = ))


```{r}
library(ggplot2)

f <- function(data, x, y) {

  varx <- substitute(x)
  vary <- substitute(y)

  x1 <- eval(varx, data)
  y1 <- eval(vary, data)


  # ggplot(data = data, aes(x = x1, y = y1))

  p <- qplot(x = data[,x1], y = data[,y1], geom = "point")
  return(p)

  # return(list(data[,x1], data[,y1]))

}

f(data.table(iris), Petal.Length, Petal.Width)
```


when called within a function the eval/subs won’t work
make another one that takes a quoted expr (suffix _q for convention)
